# Phase 0 Research: Gear Operations & Maintenance

**Date**: 2025-10-14  
**Inputs**: mindmap.md（裝備檢查紀錄、雪具買賣）、`PROJECTS.md`, 現有 CSV/DB（待盤點）、user-core 憲章

## 1. Current State Assessment

- 尚未找到專門的裝備資料表；可能散落在報表或手動紀錄（需檢視 `gear` 相關 CSV、SQL）。
- 裝備檢查與提醒現行流程可能由教練或客服手動追蹤，缺乏系統化紀錄與通知。
- 二手買賣功能尚不明朗；需確認是否已有社群或外部平台整合。
- NotificationPreference 由 user-core 管理，gear-ops 必須呼叫同一偏好來源。
- 合規面：不同國家可能有商品稅、消費者保護法、個資規範，須在設計保養/交易流程時考慮。

## 2. Stakeholders & Dependencies

- **使用者/教練**：需要快速追蹤裝備狀況與提醒。
- **營運/客服**：負責監控危險裝備、處理交易糾紛。
- **倉儲或租借單位**：可能需要存取裝備資料（待確認是否存在）。
- **依賴**：
  - user-core（身份、角色、通知偏好、行為事件）
  - Notification gateway（提醒送出管道）
  - 付款或紀錄系統（若交易需要）
  - 可能與 snowbuddy 或 coach-scheduling 分享裝備資訊（例如課程裝備需求）

## 3. Risks & Unknowns

- **資料來源**：舊裝備與檢查紀錄是否存在？格式如何？若無需建立初期 seed。
- **交易安全**：如何驗證交易雙方、處理糾紛？是否需要付款託管？
- **通知授權**：不同地區的法律對交易通知、促銷訊息的限制。
- **跨國貨幣**：是否需要自動換算或稅金計算？
- **裝備分類**：分類與檢查標準是否已經有既定模板？
- **保養建議來源**：規則如何取得（專家手動設定、資料導出、或後續 AI）？
- **影響其他專案**：例如教練排課是否依賴裝備清單、需與行程綁定？

## 4. Open Questions

1. 是否存在既有的裝備列表或檢查報表可匯入？
2. 裝備檢查項目是否已標準化（不同裝備類別的 checklist）？
3. 買賣流程是否需要與金流整合，或先採取「媒合」模式由使用者自行完成交易？
4. 對於危險或不安全裝備，有無既定的停用流程與通知責任人？
5. 跨國交易是否需要檢查稅務與運輸限制？
6. 保養建議的來源是專家手冊、固定規則，還是依照檢查資料動態計算？
7. 客服團隊是否有使用特定工具管理糾紛或旗標？需整合嗎？

## 5. Next Research Actions

- 搜尋 repo 中與 gear/裝備 相關的 CSV/SQL/腳本，了解現有資料狀況。
- 訪談營運/教練了解手動流程與痛點，確認檢查週期與責任人。
- 蒐集跨國交易規範（稅金、海關、責任）最小需求，先支援台灣/香港/中國/日本。
- 定義初版檢查模板：常見裝備（滑雪板、雪鞋、護具）需要哪些檢查項目。
- 設計通知與提醒 SLA：裝備危險/保養/交易流程各自的通知節點。
- 與 user-core 同步事件型錄需求，確保 `gear.*` 事件被紀錄並可供 analytics 使用。
