# 釐清問題

依 `User ID` 查詢事件時，來源過濾（`source_project`）與排序邏輯（`occurred_at` vs `recorded_at`）的優先順序為何？

# 定位

Feature：行為事件查詢／規則：來源過濾與排序

# 多選題

| 選項 | 描述 |
|--------|-------------|
| A | 預設按 `occurred_at` 由新到舊，允許 `source_project` 過濾 |
| B | 預設按 `recorded_at`，`occurred_at` 僅作輔助排序 |
| C | 提供雙排序模式，需顯式指定 |
| Short | 其他（<=5 字） |

# 影響範圍

- API 參數設計與預設值
- 索引策略與查詢效能
- 契約穩定性（避免破壞既有用法）

# 優先級

Medium

---
# 解決紀錄

- **回答**：C - 兩種排序皆支援，呼叫端必須顯式指定 `sort_by`；支援 `source_project` 過濾
- **更新的規格檔**：spec/spec.md（於「事件查詢（排序與過濾）」段落）
- **變更內容**：新增 `sort_by ∈ {occurred_at, recorded_at}` 與 `order ∈ {asc, desc}` 規範；若缺少 `sort_by` 則拒絕請求
